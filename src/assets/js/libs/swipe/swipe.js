!function(){function a(a,b){"use strict";function u(){g=f.children,j=g.length,g.length<2&&(b.continuous=!1),e.transitions&&b.continuous&&g.length<3&&(f.appendChild(g[0].cloneNode(!0)),f.appendChild(f.children[1].cloneNode(!0)),g=f.children),h=new Array(g.length),i=a.getBoundingClientRect()[o]||a[p],f.style[o]=g.length*i+"px";for(var c=g.length;c--;){var d=g[c];d.style[o]=i+"px",d.setAttribute("data-index",c),e.transitions&&(d.style[n]=c*-i+"px",A(c,k>c?-i:c>k?i:0,0))}b.continuous&&e.transitions&&(A(x(k-1),-i,0),A(x(k+1),i,0)),e.transitions||(f.style.left=k*-i+"px"),a.style.visibility="visible"}function v(){b.continuous?z(k-1):k&&z(k-1)}function w(){z(k+1,null,!0)}function x(a){var b=g.length;return(b+a%b)%b}function y(a){var c=g.length;return b.continuous&&g.length>3&&(c-=2),(c+a%c)%c}function z(a,c,f){if(k!=a){if(e.transitions){var j=Math.abs(k-a)/(k-a);if(b.continuous||f){var m=j;j=-h[x(a)]/i,j!==m&&(a=-j*g.length+a)}for(var n=Math.abs(k-a)-1;n--;)A(x((a>k?a:k)-n-1),i*j,0);a=x(a),A(k,i*j,c||l),A(a,0,c||l),b.continuous&&A(x(a-j),-(i*j),0)}else a=x(a),C(k*-i,a*-i,c||l);k=a,d(b.callback&&b.callback(y(k),g[k]))}}function A(a,b,c){B(a,b,c),h[a]=b}function B(a,b,c){var d=g[a],e=d&&d.style;e&&(e.webkitTransitionDuration=e.MozTransitionDuration=e.msTransitionDuration=e.OTransitionDuration=e.transitionDuration=c+"ms","left"==n?(e.webkitTransform="translate("+b+"px,0)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateX("+b+"px)"):(e.webkitTransform="translate(0,"+b+"px)translateZ(0)",e.msTransform=e.MozTransform=e.OTransform="translateY("+b+"px)"))}function C(a,c,d){if(!d)return void(f.style[n]=c+"px");var e=+new Date,h=setInterval(function(){var i=+new Date-e;return i>d?(f.style[n]=c+"px",D&&F(),b.transitionEnd&&b.transitionEnd.call(event,k,g[k]),void clearInterval(h)):void(f.style[n]=(c-a)*(Math.floor(i/d*100)/100)+a+"px")},4)}function F(){clearTimeout(E),E=setTimeout(w,D)}function G(){clearTimeout(E)}var c=function(){},d=function(a){setTimeout(a||c,0)},e={addEventListener:!!window.addEventListener,touch:"ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch,transitions:function(a){var b=["transitionProperty","WebkitTransition","MozTransition","OTransition","msTransition"];for(var c in b)if(void 0!==a.style[b[c]])return!0;return!1}(document.createElement("swipe"))};if(a){var g,h,i,j,f=a.children[0];b=b||{};var k=parseInt(b.startSlide,10)||0,l=b.speed||300;b.continuous=void 0!==b.continuous?b.continuous:!1;var E,J,m=b.swipeDirection||"h",n="h"==m?"left":"top",o="h"==m?"width":"height",p="h"==m?"offsetWidth":"offsetHeight",q="left"==n?"x":"y",r="x"==q?"y":"x",s="left"==n?"pageX":"pageY",t=b.edgeScroll?!1:!0,D=b.auto||0,H={},I={},K={handleEvent:function(a){switch(a.type){case"touchstart":this.start(a);break;case"touchmove":this.move(a);break;case"touchend":d(this.end(a));break;case"webkitTransitionEnd":case"msTransitionEnd":case"oTransitionEnd":case"otransitionend":case"transitionend":d(this.transitionEnd(a));break;case"resize":d(u)}b.stopPropagation&&a.stopPropagation()},start:function(a){var b=a.touches[0];H={x:b.pageX,y:b.pageY,time:+new Date},J=void 0,I={},f.addEventListener("touchmove",this,!1),f.addEventListener("touchend",this,!1)},move:function(a){if(!(a.touches.length>1||a.scale&&1!==a.scale)){b.disableScroll&&a.preventDefault();var c=a.touches[0];if(!t){if(0==k&&c[s]>H[q])return;if(k==g.length-1&&c[s]<H[q])return}I={x:c.pageX-H.x,y:c.pageY-H.y},"undefined"==typeof J&&(J=!!(J||Math.abs(I[q])<Math.abs(I[r]))),J||(a.preventDefault(),G(),b.continuous?(B(x(k-1),I[q]+h[x(k-1)],0),B(k,I[q]+h[k],0),B(x(k+1),I[q]+h[x(k+1)],0)):(I[q]=I[q]/(!k&&I[q]>0||k==g.length-1&&I[q]<0?Math.abs(I[q])/i+1:1),B(k-1,I[q]+h[k-1],0),B(k,I[q]+h[k],0),B(k+1,I[q]+h[k+1],0)))}},end:function(a){var c=+new Date-H.time,d=Number(c)<250&&Math.abs(I[q])>20||Math.abs(I[q])>i/2,e=!k&&I[q]>0||k==g.length-1&&I[q]<0;b.continuous&&(e=!1);var j=I[q]<0;J||(d&&!e?(j?(b.continuous?(A(x(k-1),-i,0),A(x(k+2),i,0)):A(k-1,-i,0),A(k,h[k]-i,l),A(x(k+1),h[x(k+1)]-i,l),k=x(k+1)):(b.continuous?(A(x(k+1),i,0),A(x(k-2),-i,0)):A(k+1,i,0),A(k,h[k]+i,l),A(x(k-1),h[x(k-1)]+i,l),k=x(k-1)),b.callback&&b.callback(y(k),g[k])):b.continuous?(A(x(k-1),-i,l),A(k,0,l),A(x(k+1),i,l)):(A(k-1,-i,l),A(k,0,l),A(k+1,i,l))),f.removeEventListener("touchmove",K,!1),f.removeEventListener("touchend",K,!1),D&&F()},transitionEnd:function(a){parseInt(a.target.getAttribute("data-index"),10)==k&&(D&&F(),b.transitionEnd&&b.transitionEnd.call(a,k,g[k]))}};return u(),D&&F(),e.addEventListener?(e.touch&&f.addEventListener("touchstart",K,!1),e.transitions&&(f.addEventListener("webkitTransitionEnd",K,!1),f.addEventListener("msTransitionEnd",K,!1),f.addEventListener("oTransitionEnd",K,!1),f.addEventListener("otransitionend",K,!1),f.addEventListener("transitionend",K,!1)),window.addEventListener("resize",K,!1)):window.onresize=function(){u()},{setup:function(){u()},slide:function(a,b){G(),z(a,b)},prev:function(){G(),v()},next:function(){G(),w()},stop:function(){G()},getPos:function(){return k},getNumSlides:function(){return j},kill:function(){G(),f.style[o]="",f.style[n]="";for(var a=g.length;a--;){var b=g[a];b.style[o]="",b.style[n]="",e.transitions&&B(a,0,0)}e.addEventListener?(f.removeEventListener("touchstart",K,!1),f.removeEventListener("webkitTransitionEnd",K,!1),f.removeEventListener("msTransitionEnd",K,!1),f.removeEventListener("oTransitionEnd",K,!1),f.removeEventListener("otransitionend",K,!1),f.removeEventListener("transitionend",K,!1),window.removeEventListener("resize",K,!1)):window.onresize=null}}}}"function"==typeof define?define(function(b,c,d){return a}):window.Swipe=a}();